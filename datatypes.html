<html>
<head>
  <title>The MUCK Manual: Triggering from Properties</title>
</head>
<body bgcolor="#FFFFFF">

  <center>
  <a href="messages.html">prev</a>|
  <a href="toc.html">toc</a>|
  <a href="triggers.html">next</a>
  </center>

  <table>
  <tr>
  <td width="20%">&nbsp;</tc>
  <td>
  <!--  BODY CONTENT HERE --> 
  

<p><b>2.1.3  Data Types and Setting Properties</b></p>

<p>In the vast majority of cases, props can be correctly set by players
and wizards with the <code>@set</code> command, as described above.
However, in rare cases the `data type' of a property needs special
handling, and a different command is needed: <code>@propset</code>.</p>

<p>Data handled by the <code>MUCK</code> server is `typed', as it is in
many computer languages, including C (the language the server program is
written in) and <code>MUF</code> (one of the two programming languages
available on <code>MUCKs</code>). The server handles different types of
data, and most operations require a specific type of data. In this
context, the relevant types are `string', `dbref', `integer', and
`float'. (There is also a fifth data type: `lock', which is discussed in
<a href="locks.html">Section 2.3.</a> Type `float' is only available on
<code>MUCK</code> versions <code>6.0</code> or higher.)</p>

<p>A string is a series of zero or more characters (a zero-length string
is called a `null string'). A dbref is a database reference number. An
integer is a whole number. A float is a floating point decimal number.
These values can <em>look</em> the same but have different
<em>types</em>. The type of a datum is determined when it is stored. The
string of numeral characters "123", the #dbref 123, and the integer 123,
and the float 123.0 are <em>four different values</em>.</p>

<p>The <code>@set</code> command always stores property data as a
string. The following three commands store information in three
different properties, but it's the same value in each case: a string
composed of the characters `1', `2', and `3'.</p>

<p><code>
====================================<br>
&gt; @set me = my_favorite_dbref:123<br>
&nbsp;  Propery set.<br>
&gt; @set me = my_favorite_integer:123<br>
&nbsp;  Property set.<br>
&gt; @set me = my_favorite_string:123<br>
&nbsp;  Property set.<br>
====================================<br>
</code></p>

<p>If you typed these commands, and then did <code>ex me = /</code>, you
would see the three properties, each prefaced by <code>str,</code>
meaning `this data is stored as a string'.</p>

<p><code>
====================================<br>
&gt; ex me = /<br>
&nbsp;  str /my_favorite_dbref:123<br>
&nbsp;  str /my_favorite_integer:123<br>
&nbsp;  str /my_favorite_string:123<br>
====================================<br>
</code></p>

<p>Programs and commands often store data as dbrefs or integers rather
than strings; occasionally, players will want or need to do so as well.
The command for doing this is <code>@propset,</code> syntax
<code>@propset &lt;object&gt; = &lt;data type&gt; :
&lt;[path/]property&gt; : &lt;value&gt;</code>. The following three
commands store information in three different properties, and although
they look similar, it's a different value in each case: a dbref, an
integer, and a string respectively.</p>

<p><code>
====================================<br>
&gt; @propset me = dbref:my_favorite_dbref:#123<br>
&nbsp;  Property set.<br>
&gt; @propset me = int:my_favorite_integer:123<br>
&nbsp;  Property set.<br>
&gt; @propset me = str:my_favorite_string:123<br>
&nbsp;  Property set.<br>
====================================<br>
</code></p>
    
<p>(Type `float' has been omitted from this example: at the time of this
writing, <code>@propset</code> does not handle floating point
numbers.)</p>

<p>If you typed these commands, and then did <code>ex me = /</code>, you
would see the three properties, prefaced by <code>ref,</code>
<code>int,</code> and <code>str</code> respectively, with each preface
showing the type of the data stored in the property.</p>

<p><code>
====================================<br>
&gt; ex me = /<br>
&nbsp;  ref /my_favorite_dbref:Hortense(#123PBJ)<br>
&nbsp;  int /my_favorite_integer:123<br>
&nbsp;  str /my_favorite_string:123<br>
====================================<br>
</code></p>

<p>Tip: there is also a server shortcut for setting properties with
values of type integer: put a <code>^</code> carot before the number.</p>

<p><code>
====================================<br>
&gt; @set me = lucky_number:^5<br>
&nbsp;  Property set.<br>
&gt; ex me = lucky_number<br>
&nbsp;  int /lucky_number:5<br>
====================================<br>
</code></p>

  <center>
  <a href="messages.html">prev</a>|
  <a href="toc.html">toc</a>|
  <a href="#top">top</a>|
  <a href="triggers.html">next</a>
  </center>

  </td>
  <td width="20%">&nbsp;</tc>
  </table>
</body>
</html>
